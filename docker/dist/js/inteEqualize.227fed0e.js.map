{"version":3,"sources":["webpack:///./src/views/inteEqualize/index.vue?7321","webpack:///./src/algorithm/inteEqualize.js","webpack:///./src/views/inteEqualize/index.js","webpack:///./src/views/inteEqualize","webpack:///./src/views/inteEqualize/index.vue","webpack:///./src/views/inteEqualize/index.vue?4799"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","grayEvent","_v","class","clickFlag","inteEqualizeEvent","histogramEvent","resetEvent","downLoadEvent","staticRenderFns","attrs","inteEqualize","data","bMap","Array","lCount","i","len","length","lTemp","j","Math","round","myCanvas","width","height","context","fileName","imgData","queryObj","x1","y1","x2","y2","mounted","util","methods","downloadFile","toDataURL","copyData","putImageData","checkQuery","dataSet","statistics","lineChart","gray","component"],"mappings":"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","file":"js/inteEqualize.227fed0e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"homepage\"},[_vm._m(0),_c('div',{staticClass:\"button-box\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.grayEvent}},[_vm._v(\"灰度处理\")]),_c('button',{staticClass:\"button\",class:{'disable': !_vm.clickFlag},on:{\"click\":_vm.inteEqualizeEvent}},[_vm._v(\"灰度均衡\")]),_c('button',{staticClass:\"button\",class:{'disable': !_vm.clickFlag},on:{\"click\":_vm.histogramEvent}},[_vm._v(\"直方图\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.resetEvent}},[_vm._v(\"恢复\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.downLoadEvent}},[_vm._v(\"下载\")])]),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"row-box\"},[_c('li',[_vm._v(\"\\n            需要先灰度化\\n        \")]),_c('li',[_vm._v(\"\\n            通过点运算，使输入图像转换为在每一灰度级上都有相同的像素点数的输出图像(即输出的直方图是平的)\\n        \")]),_c('li',[_vm._v(\"\\n            提高图像对比度，对于在进行图像比较或分割之前将图像转化为一致的格式是十分有益的\\n        \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body-box\"},[_c('canvas',{attrs:{\"id\":\"myCanvas\"}},[_vm._v(\"抱歉，您的浏览器还不支持canvas。\")]),_c('div',{attrs:{\"id\":\"histogram\"}})])}]\n\nexport { render, staticRenderFns }","/**\r\n * 该函数用来对图像进行直方图均衡\r\n * @param data\r\n */\r\nfunction inteEqualize(data) {\r\n    // 灰度映射表\r\n    const bMap = new Array(256);\r\n    // 灰度映射表\r\n    const lCount = new Array(256);\r\n    for (let i = 0; i < 256; i++) {\r\n        // 清零\r\n        lCount[i] = 0;\r\n    }\r\n    // 计算各个灰度值的计数(只针对灰度图像)\r\n    for (let i = 0, len = data.length; i < len; i += 4) {\r\n        lCount[data[i]]++;\r\n    }\r\n    // 计算灰度映射表\r\n    for (let i = 0; i < 256; i++) {\r\n        let lTemp = 0;\r\n        for (let j = 0; j < i; j++) {\r\n            lTemp += lCount[j];\r\n        }\r\n        // 计算对应的新灰度值\r\n        bMap[i] = Math.round(lTemp * 255 / (data.length / 4));\r\n    }\r\n    // 赋值\r\n    for (let i = 0, len = data.length; i < len; i += 4) {\r\n        data[i] = bMap[data[i]];\r\n        data[i + 1] = bMap[data[i + 1]];\r\n        data[i + 2] = bMap[data[i + 2]];\r\n    }\r\n}\r\nexport { inteEqualize };\r\n","import { inteEqualize } from '@/algorithm/inteEqualize';\r\nimport { statistics } from '@/algorithm/statistics';\r\nimport { lineChart } from '@/utils/lineChart';\r\nimport { gray } from '@/algorithm/gray';\r\nimport { util } from '@/utils/util';\r\nexport default {\r\n    data() {\r\n        return {\r\n            myCanvas: '',\r\n            width: '',\r\n            height: '',\r\n            context: '',\r\n            fileName: '',\r\n            data: [],\r\n            imgData: {},\r\n            queryObj: {\r\n                x1: 48,\r\n                y1: 30,\r\n                x2: 200,\r\n                y2: 220\r\n            },\r\n            clickFlag: false\r\n        };\r\n    },\r\n    mounted() {\r\n        util.mounted(this);\r\n    },\r\n    methods: {\r\n        downLoadEvent() {\r\n            util.downloadFile(this.fileName, this.myCanvas.toDataURL());\r\n        },\r\n        resetEvent() {\r\n            const imgData = util.copyData(this.imgData, this.data);\r\n            this.context.putImageData(imgData, 0, 0);\r\n            this.clickFlag = false;\r\n        },\r\n        checkQuery() {\r\n            return true;\r\n        },\r\n        inteEqualizeEvent() {\r\n            if (this.clickFlag && this.checkQuery()) {\r\n                inteEqualize(this.imgData.data);\r\n                this.context.putImageData(this.imgData, 0, 0);\r\n            }\r\n        },\r\n        histogramEvent() {\r\n            if (this.clickFlag) {\r\n                const dataSet = statistics(this.imgData.data);\r\n                lineChart(dataSet, '#histogram');\r\n            }\r\n        },\r\n        /**\r\n         * 针对原图灰度化\r\n         */\r\n        grayEvent() {\r\n            gray(this.imgData.data);\r\n            this.context.putImageData(this.imgData, 0, 0);\r\n            this.clickFlag = true;\r\n        }\r\n    }\r\n};\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=74bdc127&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=74bdc127&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74bdc127\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=74bdc127&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=74bdc127&lang=scss&scoped=true&\""],"sourceRoot":""}