{"version":3,"sources":["webpack:///./src/views/homepage/index.vue?7b0c","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/homepage/index.vue?7e26","webpack:///./src/views/homepage/index.js","webpack:///./src/views/homepage","webpack:///./src/views/homepage/index.vue"],"names":["dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","this","match","e","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","on","handleFileChange","_v","_m","staticRenderFns","data","myCanvas","width","height","context","fileName","imgData","mounted","setTimeout","drawCanvas","$store","getters","imageObj","dataUrl","methods","inputDOM","$refs","inputer","selectedFile","files","name","reader","FileReader","onload","putImage2Canvas","readAsDataURL","event","target","result","url","setFlag","document","getElementById","img","Image","src","getContext","drawImage","getImageData","setDate","commit","toDataUrl","i","len","length","toDataURL","component"],"mappings":"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","file":"js/homepage.43ec6008.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79c4f4a4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79c4f4a4&lang=scss&scoped=true&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"homepage\"},[_c('div',{staticClass:\"button-box-flex\"},[_c('div',{staticClass:\"input-upload-box\"},[_c('input',{ref:\"inputer\",attrs:{\"type\":\"file\",\"id\":\"id\"},on:{\"change\":_vm.handleFileChange}}),_c('label',{staticClass:\"ensure-button\",attrs:{\"for\":\"id\"}},[_vm._v(\"选择上传文件\")])])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body-box\"},[_c('canvas',{attrs:{\"id\":\"myCanvas\"}},[_vm._v(\"抱歉，您的浏览器还不支持canvas。\")])])}]\n\nexport { render, staticRenderFns }","/* eslint-disable no-undef */\r\nexport default {\r\n    data() {\r\n        return {\r\n            myCanvas: '',\r\n            width: '',\r\n            height: '',\r\n            context: '',\r\n            fileName: '',\r\n            data: [],\r\n            imgData: {}\r\n        };\r\n    },\r\n    mounted() {\r\n        setTimeout(() => {\r\n            this.drawCanvas(this.$store.getters.imageObj.dataUrl);\r\n        }, 500);\r\n    },\r\n    methods: {\r\n        handleFileChange(e) {\r\n            const inputDOM = this.$refs.inputer;\r\n            const selectedFile = inputDOM.files[0];\r\n            this.fileName = selectedFile.name;\r\n            const reader = new FileReader();\r\n            reader.onload = this.putImage2Canvas;\r\n            reader.readAsDataURL(selectedFile);\r\n        },\r\n        putImage2Canvas(event) {\r\n            this.drawCanvas(event.target.result, true);\r\n        },\r\n        drawCanvas(url, setFlag = false) {\r\n            if (url) {\r\n                this.myCanvas = document.getElementById('myCanvas');\r\n                const img = new Image();\r\n                img.src = url;\r\n                img.onload = () => {\r\n                    this.width = this.myCanvas.width = img.width;\r\n                    this.height = this.myCanvas.height = img.height;\r\n                    this.context = this.myCanvas.getContext('2d');\r\n                    this.context.drawImage(img, 0, 0);\r\n                    this.imgData = this.context.getImageData(0, 0, img.width, img.height);\r\n                    this.setDate(this.imgData.data);\r\n                    if (setFlag) {\r\n                        this.$store.commit('setImageData', {\r\n                            fileName: this.fileName,\r\n                            imgData: this.imgData,\r\n                            dataUrl: this.toDataUrl()\r\n                        });\r\n                    }\r\n                };\r\n            }\r\n        },\r\n        /**\r\n         * 保存原始图片数据\r\n         * @param data\r\n         */\r\n        setDate(data) {\r\n            for (let i = 0, len = data.length; i < len; i += 4) {\r\n                this.data[i] = data[i];\r\n                this.data[i + 1] = data[i + 1];\r\n                this.data[i + 2] = data[i + 2];\r\n                this.data[i + 3] = data[i + 3];\r\n            }\r\n            this.$store.commit('setInitData', this.data);\r\n        },\r\n        toDataUrl() {\r\n            return this.myCanvas.toDataURL();\r\n        }\r\n    }\r\n};\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=79c4f4a4&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=79c4f4a4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79c4f4a4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}