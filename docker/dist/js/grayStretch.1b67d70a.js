(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["grayStretch"],{"02f4":function(t,e,n){var r=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var i,o,c=String(a(e)),u=r(n),s=c.length;return u<0||u>=s?t?"":void 0:(i=c.charCodeAt(u),i<55296||i>56319||u+1===s||(o=c.charCodeAt(u+1))<56320||o>57343?t?c.charAt(u):i:t?c.slice(u,u+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0c46":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"homepage"},[n("div",{staticClass:"row-box"},[n("div",{staticClass:"enter-box"},[n("label",{staticClass:"enter-title"},[t._v("\n                x1：\n            ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.queryObj.x1,expression:"queryObj.x1",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.queryObj.x1},on:{input:function(e){e.target.composing||t.$set(t.queryObj,"x1",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"enter-box"},[n("label",{staticClass:"enter-title"},[t._v("\n                x2：\n            ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.queryObj.x2,expression:"queryObj.x2",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.queryObj.x2},on:{input:function(e){e.target.composing||t.$set(t.queryObj,"x2",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),n("div",{staticClass:"row-box"},[n("div",{staticClass:"enter-box"},[n("label",{staticClass:"enter-title"},[t._v("\n                y1：\n            ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.queryObj.y1,expression:"queryObj.y1",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.queryObj.y1},on:{input:function(e){e.target.composing||t.$set(t.queryObj,"y1",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"enter-box"},[n("label",{staticClass:"enter-title"},[t._v("\n                y2：\n            ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.queryObj.y2,expression:"queryObj.y2",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.queryObj.y2},on:{input:function(e){e.target.composing||t.$set(t.queryObj,"y2",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t._m(0),n("div",{staticClass:"button-box"},[n("button",{staticClass:"button",on:{click:t.grayEvent}},[t._v("灰度处理")]),n("button",{staticClass:"button",class:{disable:!t.clickFlag},on:{click:t.grayStretchEvent}},[t._v("灰度拉伸")]),n("button",{staticClass:"button",on:{click:t.resetEvent}},[t._v("恢复")]),n("button",{staticClass:"button",on:{click:t.downLoadEvent}},[t._v("下载")])]),t._m(1)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"row-box"},[n("li",[t._v("\n            需要先灰度化\n        ")]),n("li",[t._v("\n            将原图像素值在x1和x2之间的灰度拉伸到y1和y2之间\n        ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"body-box"},[n("canvas",{attrs:{id:"myCanvas"}},[t._v("抱歉，您的浏览器还不支持canvas。")])])}];function i(t,e,n,r,a){for(var i=new Array(256),o=0;o<e;o++)i[o]=e>0?Math.round(n*o/e):0;for(var c=e;c<r;c++)i[c]=r!==e?Math.round((a-n)*(c-e)/(r-e)):n;for(var u=r;u<256;u++)i[u]=255!==r?a+Math.round((255-a)*(u-r)/(255-r)):255;for(var s=0,l=t.length;s<l;s+=4)t[s]=i[t[s]],t[s+1]=i[t[s+1]],t[s+2]=i[t[s+2]]}var o=n("6aea"),c=n("ca00"),u={data:function(){return{myCanvas:"",width:"",height:"",context:"",fileName:"",data:[],imgData:{},queryObj:{x1:48,y1:30,x2:200,y2:220},clickFlag:!1}},mounted:function(){c["a"].mounted(this)},methods:{downLoadEvent:function(){c["a"].downloadFile(this.fileName,this.myCanvas.toDataURL())},resetEvent:function(){var t=c["a"].copyData(this.imgData,this.data);this.context.putImageData(t,0,0),this.clickFlag=!1},checkQuery:function(){return!(this.queryObj.x1<0||this.queryObj.x1>this.queryObj.x2||this.queryObj.x2>255||this.queryObj.y1<0||this.queryObj.y1>this.queryObj.y2||this.queryObj.y2>255)||(this.$message("请检查输入条件"),!1)},grayStretchEvent:function(){this.clickFlag&&this.checkQuery()&&(i(this.imgData.data,this.queryObj.x1,this.queryObj.y1,this.queryObj.x2,this.queryObj.y2),this.context.putImageData(this.imgData,0,0))},grayEvent:function(){Object(o["a"])(this.imgData.data),this.context.putImageData(this.imgData,0,0),this.clickFlag=!0}}},s=u,l=(n("b429"),n("2877")),v=Object(l["a"])(s,r,a,!1,null,"23b50972",null);e["default"]=v.exports},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),a=n("32e9"),i=n("79e5"),o=n("be13"),c=n("2b4c"),u=n("520a"),s=c("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),v=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=c(t),d=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=d?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[s]=function(){return n}),n[f](""),!e})):void 0;if(!d||!h||"replace"===t&&!l||"split"===t&&!v){var b=/./[f],g=n(o,f,""[t],(function(t,e,n,r,a){return e.exec===u?d&&!a?{done:!0,value:b.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=g[0],p=g[1];r(String.prototype,t,m),a(RegExp.prototype,f,2==e?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)})}}},"520a":function(t,e,n){"use strict";var r=n("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,c="lastIndex",u=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[c]||0!==e[c]}(),s=void 0!==/()??/.exec("")[1],l=u||s;l&&(o=function(t){var e,n,o,l,v=this;return s&&(n=new RegExp("^"+v.source+"$(?!\\s)",r.call(v))),u&&(e=v[c]),o=a.call(v,t),u&&o&&(v[c]=v.global?o.index+o[0].length:e),s&&o&&o.length>1&&i.call(o[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)})),o}),t.exports=o},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"6aea":function(t,e,n){"use strict";function r(t){for(var e=0,n=t.length;e<n;e+=4){var r=(t[e]+t[e+1]+t[e+1])/3;t[e]=t[e+1]=t[e+2]=r}}n.d(e,"a",(function(){return r}))},a481:function(t,e,n){"use strict";var r=n("cb7c"),a=n("4bf8"),i=n("9def"),o=n("4588"),c=n("0390"),u=n("5f1b"),s=Math.max,l=Math.min,v=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,b){return[function(r,a){var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},function(t,e){var a=b(n,t,this,e);if(a.done)return a.value;var v=r(t),f=String(this),d="function"===typeof e;d||(e=String(e));var m=v.global;if(m){var p=v.unicode;v.lastIndex=0}var y=[];while(1){var x=u(v,f);if(null===x)break;if(y.push(x),!m)break;var j=String(x[0]);""===j&&(v.lastIndex=c(f,i(v.lastIndex),p))}for(var w="",O=0,q=0;q<y.length;q++){x=y[q];for(var C=String(x[0]),E=s(l(o(x.index),f.length),0),$=[],_=1;_<x.length;_++)$.push(h(x[_]));var k=x.groups;if(d){var D=[C].concat($,E,f);void 0!==k&&D.push(k);var S=String(e.apply(void 0,D))}else S=g(C,f,E,$,k,e);E>=O&&(w+=f.slice(O,E)+S,O=E+C.length)}return w+f.slice(O)}];function g(t,e,r,i,o,c){var u=r+t.length,s=i.length,l=d;return void 0!==o&&(o=a(o),l=f),n.call(c,l,(function(n,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":c=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return n;if(l>s){var f=v(l/10);return 0===f?n:f<=s?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):n}c=i[l-1]}return void 0===c?"":c}))}}))},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b429:function(t,e,n){"use strict";var r=n("b746"),a=n.n(r);a.a},b746:function(t,e,n){},ca00:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a481");var r={mounted:function(t){console.log(t.fileName);var e=t.$store.getters.imageObj;t.fileName=e.fileName,t.data=t.$store.getters.initData,t.data&&t.data.length?setTimeout((function(){t.myCanvas=document.getElementById("myCanvas");var e=new Image;e.src=t.$store.getters.imageObj.dataUrl,e.onload=function(){t.width=t.myCanvas.width=e.width,t.height=t.myCanvas.height=e.height,t.context=t.myCanvas.getContext("2d"),t.context.drawImage(e,0,0),t.imgData=t.context.getImageData(0,0,e.width,e.height)}}),500):t.$router.replace("/homepage")},copyData:function(t,e){for(var n=0,r=e.length;n<r;n+=4)t.data[n]=e[n],t.data[n+1]=e[n+1],t.data[n+2]=e[n+2],t.data[n+3]=e[n+3];return t},downloadFile:function(t,e){var n=document.createElement("a");n.download=t,n.href=e,n.click()},pixelsEvent:function(t,e,n){var r=Math.sqrt(t.length/(e*n));return{width:r*e,height:r*n}}}}}]);
//# sourceMappingURL=grayStretch.1b67d70a.js.map